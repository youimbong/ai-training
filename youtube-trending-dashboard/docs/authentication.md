# 🔐 비밀번호 인증 설정 가이드

YouTube 트렌딩 대시보드는 비밀번호 기반 인증 시스템을 제공합니다. 이를 통해 승인된 사용자만 API를 사용하여 데이터를 조회할 수 있습니다.

## 📋 주요 기능

### 보안 기능
- ✅ **세션 기반 인증**: 로그인 후 설정된 시간 동안 세션 유지
- ✅ **브루트 포스 방지**: 5회 실패 시 5분간 계정 잠금
- ✅ **자동 로그아웃**: 설정된 시간 후 자동 세션 만료
- ✅ **보안 로그**: 모든 인증 시도 로깅

### 사용자 경험
- 🎨 **모던한 로그인 UI**: 깔끔하고 직관적인 인터페이스
- 🔄 **세션 유지**: 새로고침 시에도 로그인 상태 유지
- 🚪 **로그아웃 기능**: 사이드바에서 간편하게 로그아웃

## ⚙️ 설정 방법

### 1. secrets.toml 파일 수정

`.streamlit/secrets.toml` 파일에서 인증 설정을 구성합니다:

```toml
# 인증 설정
enable_password_auth = true          # 비밀번호 인증 활성화
app_password = "your_secure_password"  # 비밀번호 설정
auth_session_timeout = 3600          # 세션 타임아웃 (초, 기본값: 1시간)
```

### 2. 비밀번호 설정 권장사항

강력한 비밀번호 설정을 위한 권장사항:
- 최소 8자 이상
- 대문자와 소문자 혼합
- 숫자 포함
- 특수문자 포함 (!, @, #, $ 등)

예시:
- ✅ 좋은 예: `YouTube@2024!Secure`
- ❌ 나쁜 예: `password123`

### 3. 인증 비활성화

비밀번호 인증을 비활성화하려면:

```toml
enable_password_auth = false
```

또는 `app_password`를 빈 문자열로 설정:

```toml
app_password = ""
```

## 🔄 사용 방법

### 로그인 프로세스

1. **앱 접속**
   - 브라우저에서 앱 URL 접속
   - 자동으로 로그인 페이지로 리디렉션

2. **비밀번호 입력**
   - 설정된 비밀번호 입력
   - Enter 키 또는 로그인 버튼 클릭

3. **인증 성공**
   - 대시보드로 자동 이동
   - 세션 시간 동안 접속 유지

### 로그아웃

- 사이드바 상단의 "🚪 로그아웃" 버튼 클릭
- 자동으로 로그인 페이지로 리디렉션

## 🔒 보안 기능 상세

### 브루트 포스 방지

- **5회 실패 시**: 계정 5분간 잠금
- **잠금 상태 표시**: 남은 시간 실시간 표시
- **자동 해제**: 5분 후 자동으로 잠금 해제

### 세션 관리

- **기본 타임아웃**: 1시간 (3600초)
- **활동 기반**: 마지막 활동 시간 기준
- **자동 로그아웃**: 타임아웃 시 자동 세션 종료

### 로그 기록

모든 인증 관련 활동이 로그에 기록됩니다:
- 로그인 성공/실패
- 계정 잠금
- 로그아웃
- 세션 만료

## 🚨 문제 해결

### 비밀번호를 잊어버렸을 때

1. 서버 접속 권한이 있는 경우:
   ```bash
   nano .streamlit/secrets.toml
   ```
   `app_password` 값을 새로운 비밀번호로 변경

2. 서버 접속 권한이 없는 경우:
   - 관리자에게 비밀번호 재설정 요청

### 계정이 잠겼을 때

- 5분 대기 후 자동으로 잠금 해제
- 긴급한 경우 서버 재시작으로 즉시 해제 가능

### 세션이 자동으로 끊길 때

`auth_session_timeout` 값을 증가시켜 세션 시간 연장:

```toml
auth_session_timeout = 7200  # 2시간
```

## 🔐 Streamlit Cloud 배포 시

Streamlit Cloud에 배포할 때는 절대 secrets.toml 파일을 Git에 커밋하지 마세요!

대신 Streamlit Cloud 대시보드에서 설정:

1. **앱 대시보드** 접속
2. **Settings** → **Secrets** 선택
3. 다음 내용 추가:
   ```toml
   enable_password_auth = true
   app_password = "your_secure_password"
   auth_session_timeout = 3600
   ```
4. **Save** 클릭

## 📊 성능 고려사항

- 인증 체크는 매 페이지 로드 시 수행
- 세션 데이터는 메모리에 저장 (서버 재시작 시 초기화)
- 로그인 시도 제한으로 서버 부하 방지

## 🛡️ 추가 보안 강화 방안

### 향후 구현 가능한 기능

1. **2단계 인증 (2FA)**
   - TOTP 기반 인증 추가
   - SMS/이메일 인증

2. **사용자별 계정**
   - 다중 사용자 지원
   - 권한 관리

3. **IP 화이트리스트**
   - 특정 IP만 접근 허용
   - VPN 연동

4. **SSL/TLS 암호화**
   - HTTPS 강제
   - 인증서 관리

---

⚠️ **주의사항**:
- 비밀번호는 반드시 안전한 곳에 보관하세요
- 정기적으로 비밀번호를 변경하세요
- 공용 컴퓨터에서는 반드시 로그아웃하세요